<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UK ARCHITECTS</title>
    <meta name="description" content="UK Architects - architectural bureau" />
    <link rel="shortcut icon" href="images/tildafavicon.ico" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;600;700&family=Noto+Sans:wght@100..900&subset=latin,cyrillic&display=swap"
        rel="stylesheet">

    <!-- Загрузка настроек сайта (SEO, аналитика, социальные сети) -->
    <script src="js/settings-loader.js" defer></script>

    <!-- Динамическое обновление логотипа/контактов из настроек -->
    <script src="js/header-contacts.js" defer></script>

    <style>
        .hero-slider {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
            margin: 0;
            padding: 0;
            z-index: 1;
        }

        .hero-slides {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .hero-slide {
            display: none;
            width: 100%;
            height: 100%;
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hero-slide.active {
            display: block;
        }

        .hero-slide::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            background: linear-gradient(to top, rgba(33, 37, 41, 0.95) 0%, rgba(33, 37, 41, 0.7) 30%, transparent 100%);
            z-index: 1;
        }

        .hero-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 40px 60px;
            z-index: 2;
        }

        .hero-info {
            max-width: 800px;
        }

        .hero-category {
            display: inline-block;
            background: #ffffff;
            color: #212529;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero-title {
            font-size: 56px;
            color: #ffffff;
            margin-bottom: 20px;
            line-height: 1.1;
            font-weight: 400;
        }

        .hero-description {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.82);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .hero-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .hero-meta-item {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.65);
        }

        .hero-meta-item strong {
            color: #9cb7ff;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .hero-bottom {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .hero-button {
            display: inline-block;
            background: #ffffff;
            color: #212529;
            padding: 15px 40px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: 500;
            transition: background 0.3s;
        }

        .hero-button:hover {
            background: #f8f9fa;
        }

        .hero-image {
            display: none;
        }

        .hero-nav {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            z-index: 10;
            gap: 15px;
        }

        .hero-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .hero-dot.active {
            background: rgba(255, 255, 255, 1);
        }

        .hero-dot.active::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            box-sizing: border-box;
        }

        .hero-dot.active::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 1px solid transparent;
            border-top-color: #ffffff;
            transform: translate(-50%, -50%) rotate(0deg);
            transform-origin: center;
            box-sizing: border-box;
            animation: fillCircle 5s linear forwards;
        }

        @keyframes fillCircle {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
                border-top-color: #ffffff;
                border-right-color: transparent;
                border-bottom-color: transparent;
                border-left-color: transparent;
            }

            25% {
                border-right-color: #ffffff;
            }

            50% {
                border-bottom-color: #ffffff;
            }

            75% {
                border-left-color: #ffffff;
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
                border-top-color: #ffffff;
                border-right-color: #ffffff;
                border-bottom-color: #ffffff;
                border-left-color: #ffffff;
            }
        }

        .hero-dot:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .service-slide-item:hover .service-slide-bg {
            transform: scale(1.1);
        }

        /* ========== RESPONSIVE STYLES ========== */

        /* Large tablets (1024px and below) */
        @media screen and (max-width: 1024px) {
            .hero-slider {
                height: auto;
                min-height: 450px;
            }

            .hero-content {
                padding: 30px;
                gap: 40px;
            }

            .hero-info {
                max-width: 100%;
            }

            .hero-title {
                font-size: 40px;
            }

            .hero-description {
                font-size: 16px;
            }

            .hero-image img {
                height: 400px;
            }

            /* Sections padding */
            section[style*="padding: 100px"] {
                padding: 60px 0 !important;
            }

            /* Container padding */
            [style*="max-width: 1400px"] {
                padding-left: 30px !important;
                padding-right: 30px !important;
            }

            /* Services grid */
            [id="services-grid"] {
                grid-template-columns: repeat(2, 1fr) !important;
            }

            /* Reviews Grid */
            [id="reviews-slider"] {
                grid-template-columns: repeat(2, 1fr) !important;
            }

            /* Footer Grid */
            footer [style*="grid-template-columns: 2fr 2fr 2fr"] {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 40px !important;
            }
        }

        /* Tablets (768px and below) */
        @media screen and (max-width: 768px) {
            .hero-slider {
                height: 100vh !important;
                min-height: 100vh !important;
                margin-top: 0 !important;
            }

            .hero-content {
                flex-direction: column-reverse !important;
                padding: 40px 20px !important;
                gap: 30px !important;
            }

            .hero-info {
                height: auto !important;
                width: 100% !important;
            }

            .hero-title {
                font-size: 32px !important;
            }

            .hero-description {
                font-size: 15px !important;
                margin-bottom: 20px !important;
            }

            .hero-text {
                text-align: left !important;
                width: 100% !important;
            }

            .hero-button {
                width: 100% !important;
                text-align: center !important;
                padding: 14px 30px !important;
            }

            .hero-image {
                width: 100% !important;
            }

            .hero-bottom {
                flex-direction: column;
                gap: 15px;
            }

            .hero-arrows-inline {
                justify-content: flex-start;
            }

            .hero-image img {
                height: 300px;
            }

            .hero-nav {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                transform: none !important;
                justify-content: center;
                margin-top: 20px;
            }

            .hero-meta {
                gap: 15px;
            }

            /* Sections */
            section[style*="padding: 100px"],
            section[style*="padding: 60px"] {
                padding: 50px 0 !important;
            }

            [style*="max-width: 1400px"] {
                padding-left: 0 !important;
                padding-right: 0 !important;
            }

            /* Services grid */
            [id="services-grid"],
            #services-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            /* Projects grid */
            [id="projects-grid"],
            #projects-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            /* Stats section */
            [style*="display: flex; gap: 90px"],
            div[style*="display: flex"][style*="gap: 120px"] {
                flex-direction: column !important;
                gap: 40px !important;
            }

            div[style*="display: grid"][style*="grid-template-columns: repeat(2, 1fr)"][style*="gap: 120px"] {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
            }

            /* Цитата на планшетах */
            blockquote[style*="font-size: 28px"],
            blockquote[style*="font-size: 24px"] {
                font-size: 20px !important;
                padding: 0 !important;
            }

            div[style*="height: 350px"][style*="padding: 40px 45px"],
            div[style*="height: 350px"][style*="padding: 50px 60px"] {
                padding: 30px !important;
            }

            /* Typography */
            h2[style*="font-size: 54px"] {
                font-size: 36px !important;
                line-height: 1.2 !important;
            }

            h2[style*="font-size: 70px"] {
                font-size: 48px !important;
            }

            [style*="font-size: 70px"] {
                font-size: 48px !important;
            }

            /* Contact form */
            #form h2 {
                font-size: 36px !important;
            }

            #form .form-grid,
            [style*="display: grid; grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }

            form[style*="max-width: 600px"] {
                max-width: 100% !important;
            }

            button[type="submit"] {
                width: 100% !important;
            }

            /* Footer */
            footer [style*="grid-template-columns: 2fr 1fr 1fr 1.5fr"] {
                grid-template-columns: 1fr 1fr !important;
                gap: 30px !important;
            }

            footer [style*="display: flex; justify-content: space-between"] {
                flex-direction: column !important;
                gap: 20px !important;
                align-items: flex-start !important;
            }

            /* Reviews */
            [style*="display: grid"][style*="grid-template-columns: repeat(2"] {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }

            /* Team */
            [style*="display: grid"][style*="grid-template-columns: repeat(4"],
            [style*="display: grid"][style*="grid-template-columns: repeat(3"] {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }

            /* FAQ Section Grid */
            section#faq-section [style*="grid-template-columns: 5fr 7fr"] {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
            }

            section#faq-section #faq-intro {
                position: static !important;
            }

            /* Footer Grid */
            footer [style*="grid-template-columns: 2fr 2fr 2fr"] {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
            }
        }

        /* Mobile (480px and below) */
        @media screen and (max-width: 640px) {

            /* Скрываем все лишнее */
            body {
                overflow-x: hidden !important;
            }

            * {
                max-width: 100% !important;
            }

            .hero-slider {
                min-height: 600px !important;
                margin-top: 10px !important;
            }

            .hero-content {
                padding: 20px 15px !important;
                gap: 20px !important;
            }

            .hero-title {
                font-size: 28px !important;
                line-height: 1.3 !important;
            }

            .hero-description {
                font-size: 14px !important;
            }

            .hero-category {
                font-size: 11px !important;
                padding: 5px 10px !important;
            }

            .hero-button {
                padding: 12px 24px !important;
                font-size: 14px !important;
            }

            .hero-image img {
                height: 100vh !important;
                width: 100% !important;
                object-fit: cover !important;
            }

            /* Прячем навигацию на маленьких экранах */

            .hero-arrow-inline,
            .hero-arrows-inline {
                display: none !important;
            }

            .hero-nav {
                display: none !important;
            }

            .hero-meta-item {
                flex: 1 1 100%;
            }

            /* Sections */
            section[style*="padding: 50px"],
            section[style*="padding: 40px"] {
                padding: 30px 0 !important;
            }

            [style*="max-width: 1400px"] {
                padding-left: 20px !important;
                padding-right: 20px !important;
            }

            /* Убираем все боковые отступы на мобильных */
            div[style*="padding: 0 60px"],
            section div[style*="padding: 0 60px"] {
                padding-left: 20px !important;
                padding-right: 20px !important;
            }

            /* Typography */
            h2[style*="font-size: 54px"],
            h2[style*="font-size: 36px"] {
                font-size: 28px !important;
                max-width: 60% !important;
            }

            h2[style*="font-size: 70px"],
            h2[style*="font-size: 48px"] {
                font-size: 36px !important;
                max-width: 60% !important;
            }

            [style*="font-size: 70px"],
            [style*="font-size: 48px"] {
                font-size: 36px !important;
            }

            [style*="font-size: 18px"] {
                font-size: 15px !important;
            }

            /* Section titles max-width */
            section h2,
            section h1 {
                max-width: 60% !important;
                font-size: 28px !important;
            }

            /* Footer */
            footer [style*="grid-template-columns: 2fr 1fr 1fr 1.5fr"],
            footer [style*="grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 25px !important;
            }

            footer h3 {
                font-size: 18px !important;
            }

            footer p,
            footer a {
                font-size: 14px !important;
            }

            /* Team grid */
            [style*="display: grid"][style*="grid-template-columns: repeat(4"],
            [style*="display: grid"][style*="grid-template-columns: repeat(3"],
            [style*="display: grid"][style*="grid-template-columns: repeat(2"] {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            /* Все grid элементы - 1 колонка на мобильных */
            div[style*="display: grid"],
            section div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            /* FAQ Section Grid */
            section#faq-section [style*="grid-template-columns: 5fr 7fr"] {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }

            section#faq-section #faq-intro {
                position: static !important;
            }

            /* Services slider mobile padding */
            .service-slide-content {
                padding: 30px 20px !important;
            }

            .service-slide-item {
                min-height: 400px !important;
            }

            .service-slide-content>div:last-child {
                flex-direction: column !important;
                gap: 15px !important;
            }

            .service-slide-content>div:last-child a {
                width: 100% !important;
                text-align: center !important;
            }

            .service-slide-content h3 {
                font-size: 24px !important;
                text-align: center !important;
            }

            /* Цитата на мобильных */
            blockquote[style*="font-size: 28px"],
            blockquote[style*="font-size: 24px"],
            blockquote[style*="font-size: 20px"] {
                font-size: 16px !important;
                padding: 0 !important;
                line-height: 1.4 !important;
            }

            div[style*="height: 350px"][style*="padding: 40px 45px"],
            div[style*="height: 350px"][style*="padding: 50px 60px"],
            div[style*="height: 350px"][style*="padding: 30px"] {
                height: auto !important;
                padding: 25px 20px !important;
                min-height: 250px !important;
            }

            /* Статистика - все в 1 колонку */
            div[style*="display: grid"][style*="grid-template-columns: repeat(2, 1fr)"][style*="gap: 120px"] {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
            }

            div[style*="display: flex"][style*="gap: 120px"] {
                flex-direction: column !important;
                gap: 40px !important;
            }

            /* Размер цифр статистики */
            .counter,
            .stat-number,
            [style*="font-size: 70px"] {
                font-size: 48px !important;
                letter-spacing: -2px !important;
            }

            /* Contact form text */

            [style*="font-size: 15px"][style*="line-height: 1.6"] {
                font-size: 14px !important;
            }

            /* Contact form mobile */
            section#form h2,
            section#form p {
                text-align: center !important;
            }

            section#form h2 {
                max-width: 100% !important;
            }

            section#form button[type="submit"] {
                background: #ffffff !important;
            }
        }

        /* Stage badges styles */
        .stage-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 6px;
            margin-bottom: 6px;
        }

        .stage-concept {
            background: #ffeaa7;
            color: #fdcb6e;
        }

        .stage-project {
            background: #74b9ff;
            color: #0984e3;
        }

        .stage-working {
            background: #a29bfe;
            color: #6c5ce7;
        }

        .stage-construction {
            background: #fd79a8;
            color: #e84393;
        }

        .stage-completed {
            background: #55efc4;
            color: #00b894;
        }

        /* Mobile styles for stages */
        @media (max-width: 768px) {
            .stage-badge {
                margin-bottom: 8px;
                margin-right: 8px;
            }
        }

        /* Стили для placeholder в формах */
        input::placeholder {
            color: rgba(255, 255, 255, 0.6);
            opacity: 1;
        }

        /* Прелоадер */
        #page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            transition: opacity 1.5s ease, visibility 1.5s ease;
        }

        #page-loader.fade-out {
            opacity: 0;
            visibility: hidden;
        }

        #page-loader img {
            height: 80px;
            width: auto;
            filter: none;
            animation: heartbeat 4s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(0.95);
                opacity: 0.4;
            }

            15% {
                transform: scale(1);
                opacity: 0.6;
            }

            30% {
                transform: scale(1.05);
                opacity: 0.9;
            }

            45% {
                transform: scale(1);
                opacity: 0.7;
            }

            50% {
                transform: scale(1);
                opacity: 1;
            }

            55% {
                transform: scale(1);
                opacity: 0.7;
            }

            70% {
                transform: scale(1.05);
                opacity: 0.9;
            }

            85% {
                transform: scale(1);
                opacity: 0.6;
            }

            100% {
                transform: scale(0.95);
                opacity: 0.4;
            }
        }
    </style>
</head>

<body>
    <!-- Page Loader -->
    <div id="page-loader">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
            data-default-logo="images/tild6265-3061-4762-a339-323263366339__architects_global_50.svg" alt="Loading...">
    </div>

    <header
        style="position: fixed; width: 100%; height: 75px; top: 0; left: 0; background-color: rgba(0, 0, 0, 0.35); z-index: 9999; border-bottom: 0; font-family: 'Noto Sans', sans-serif; transition: background-color 0.6s, top 0.3s linear;">
        <div
            style="height: 75px; padding: 0 60px; display: flex; align-items: center; justify-content: space-between; box-sizing: border-box;">
            <a href="/" style="display: inline-block;">
                <img id="site-logo" src="images/tild6265-3061-4762-a339-323263366339__architects_global_50.svg" alt=""
                    style="height: 35px; width: auto; filter: none;" />
            </a>
        </div>
    </header>

    <!-- Fixed Language Switcher - Minimalist style -->
    <div id="lang-switcher"
        style="position: fixed; top: 22px; right: 40px; z-index: 99999; display: flex; gap: 3px; background: rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 5px 6px; transition: top 0.3s linear;">
        <a href="/"
            style="color: rgba(255, 255, 255, 0.6); text-decoration: none; font-size: 13px; font-weight: 600; padding: 5px 12px; border-radius: 15px; text-transform: uppercase; font-family: 'Ubuntu', sans-serif; transition: all 0.3s;"
            onmouseover="this.style.color='#ffffff'; this.style.background='rgba(255, 255, 255, 0.15)'"
            onmouseout="this.style.color='rgba(255, 255, 255, 0.6)'; this.style.background='transparent'">RU</a>
        <a href="/index-en.html"
            style="color: #ffffff; background: rgba(255, 255, 255, 0.2); text-decoration: none; font-size: 13px; font-weight: 600; padding: 5px 12px; border-radius: 15px; text-transform: uppercase; font-family: 'Ubuntu', sans-serif;">EN</a>
    </div>

    <script>
        // Show header at top and when scrolling up, hide when scrolling down
        let lastScrollTop = 0;
        const header = document.querySelector('header');
        const langSwitcher = document.getElementById('lang-switcher');

        window.addEventListener('scroll', function () {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop <= 100) {
                // Near top - always show
                header.style.top = '0';
                langSwitcher.style.top = '22px';
            } else if (scrollTop > lastScrollTop) {
                // Scrolling down - hide
                header.style.top = '-75px';
                langSwitcher.style.top = '-75px';
            } else {
                // Scrolling up - show
                header.style.top = '0';
                langSwitcher.style.top = '22px';
            }

            lastScrollTop = scrollTop;
        });
    </script>

    <!-- Hero Slider -->
    <section class="hero-slider" id="hero-slider">
        <div class="hero-slides"></div>
        <div class="hero-nav" id="hero-nav"></div>
    </section>

    <!-- Three Column Section -->
    <section style="padding: 100px 0 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px;">
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 60px;">
                <!-- Column 1 -->
                <a href="/about-en.html" class="column-hover"
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; overflow: hidden; text-decoration: none; display: block;">
                    <img src="images/OKompanii.jpeg" alt="About Company"
                        style="width: 100%; height: 100%; object-fit: cover;">
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8) 100%);">
                    </div>
                    <h3
                        style="position: absolute; bottom: 15px; left: 30px; right: 30px; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 32px; color: #ffffff; margin: 0; line-height: 1.2; z-index: 2;">
                        About Company</h3>
                </a>

                <!-- Column 2 -->
                <a href="/projects-en.html" class="column-hover"
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; overflow: hidden; text-decoration: none; display: block;">
                    <img src="images/proekti.jpg" alt="Projects" style="width: 100%; height: 100%; object-fit: cover;">
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8) 100%);">
                    </div>
                    <h3
                        style="position: absolute; bottom: 15px; left: 30px; right: 30px; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 32px; color: #ffffff; margin: 0; line-height: 1.2; z-index: 2;">
                        Projects</h3>
                </a>

                <!-- Column 3 -->
                <a href="/services-en.html" class="column-hover"
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; overflow: hidden; text-decoration: none; display: block;">
                    <img src="images/uslugi.jpg" alt="Services" style="width: 100%; height: 100%; object-fit: cover;">
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8) 100%);">
                    </div>
                    <h3
                        style="position: absolute; bottom: 15px; left: 30px; right: 30px; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 32px; color: #ffffff; margin: 0; line-height: 1.2; z-index: 2;">
                        Services</h3>
                </a>
            </div>
        </div>
    </section>

    <!-- Two Column Section -->
    <section style="padding: 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px;">
            <div style="display: grid; grid-template-columns: 1fr; gap: 60px;">
                <!-- Column 1 - Одна колонка -->
                <div class="column-hover"
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; overflow: hidden;">
                    <img src="images/okomande.jpeg" alt="About Team"
                        style="width: 100%; height: 100%; object-fit: cover;">
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8) 100%);">
                    </div>
                    <h3
                        style="position: absolute; bottom: 15px; left: 30px; right: 30px; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 32px; color: #ffffff; margin: 0; line-height: 1.2; z-index: 2;">
                        Our Team</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Mission Section -->
    <section style="padding: 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px;">
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 60px;">
                <!-- Column 1 - Большая колонка -->
                <div class="column-hover"
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; overflow: hidden;">
                    <img src="images/mission.jpeg" alt="Mission"
                        style="width: 100%; height: 100%; object-fit: cover; object-position: center bottom;">
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8) 100%);">
                    </div>
                    <h3
                        style="position: absolute; bottom: 15px; left: 30px; right: 30px; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 32px; color: #ffffff; margin: 0; line-height: 1.2; z-index: 2;">
                        Mission</h3>
                </div>

                <!-- Column 2 - Маленькая колонка с цитатой -->
                <div
                    style="position: relative; width: 100%; height: 350px; background: #2a2a2a; border-radius: 15px; padding: 40px 45px; display: flex; align-items: center; justify-content: center; box-sizing: border-box;">
                    <blockquote
                        style="margin: 0; font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 24px; color: #ffffff; line-height: 1.35; text-align: left; font-style: italic; max-width: 100%;">
                        "Building global standards on a local scale: designing cities and spaces where the spirit of
                        place lives, and architecture serves people, society and future generations."
                    </blockquote>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section style="padding: 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px;">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 120px; margin-top: 80px;">
                <div style="display: flex; gap: 120px;">
                    <div>
                        <div class="counter"
                            style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 70px; color: #ffffff; line-height: 0.9; letter-spacing: -3px;"
                            data-target="500">0</div>
                        <div
                            style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; margin-top: 20px; line-height: 1.25;">
                            Projects planned and completed</div>
                    </div>
                    <div>
                        <div class="counter"
                            style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 70px; color: #ffffff; line-height: 0.9; letter-spacing: -3px;"
                            data-target="10">0</div>
                        <div
                            style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; margin-top: 20px; line-height: 1.25;">
                            Years of professional experience in architecture</div>
                    </div>
                </div>
                <div style="display: flex; gap: 120px;">
                    <div>
                        <div class="counter"
                            style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 70px; color: #ffffff; line-height: 0.9; letter-spacing: -3px;"
                            data-target="95">0</div>
                        <div
                            style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; margin-top: 20px; line-height: 1.25;">
                            Clients choose us for long-term projects</div>
                    </div>
                    <div>
                        <div class="stat-number"
                            style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 70px; color: #ffffff; line-height: 0.9; letter-spacing: -3px;">
                            24/7</div>
                        <div
                            style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; margin-top: 20px; line-height: 1.25;">
                            Client support at all stages</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <!-- Team Section -->
    <!-- Dynamic Sections -->
    <div id="dynamic-sections"></div>

    <!-- FAQ Section -->
    <section id="faq-section" style="padding: 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px; display: grid; grid-template-columns: 5fr 7fr; gap: 60px; align-items: start;">
            <!-- Left Side - Text Content -->
            <div id="faq-intro" style="position: sticky; top: 100px;">
                <!-- FAQ intro will be loaded here -->
            </div>

            <!-- Right Side - FAQ List -->
            <div id="faq-list" class="faq-list">
                <!-- FAQ items will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Masterplan Section -->
    <section style="padding: 60px 0; background: #1a1a1a;">
        <div style="padding: 0 60px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center;">
                <!-- Left Column - Image -->
                <div
                    style="position: relative; width: 100%; height: 500px; background: #2a2a2a; border-radius: 15px; overflow: hidden;">
                    <img src="images/masterplan.jpg" alt="Masterplan"
                        style="width: 100%; height: 100%; object-fit: cover;">
                </div>

                <!-- Right Column - Content & Form -->
                <div>
                    <h2
                        style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 48px; color: #ffffff; margin: 0 0 30px 0; line-height: 1.2;">
                        Masterplan</h2>
                    <p
                        style="font-family: 'Noto Sans', sans-serif; font-size: 18px; color: rgba(255,255,255,0.8); line-height: 1.6; margin: 0 0 40px 0;">
                        A strategy for spatial development of the territory. The goal of developing a masterplan is to
                        form
                        a clear model for project implementation taking into account key KPIs. A finished masterplan is
                        a product
                        that combines vision and practical implementation.
                    </p>

                    <!-- Contact Form -->
                    <form id="masterplanContactForm" style="width: 100%;">
                        <input type="text" name="name" placeholder="Your name" required
                            style="width: 100%; padding: 15px; margin-bottom: 15px; background: rgba(255, 255, 255, 0.5); border: none; border-radius: 8px; font-family: 'Noto Sans', sans-serif; font-size: 16px; color: #ffffff; box-sizing: border-box;">
                        <input type="tel" name="phone" placeholder="Phone" required
                            style="width: 100%; padding: 15px; margin-bottom: 20px; background: rgba(255, 255, 255, 0.5); border: none; border-radius: 8px; font-family: 'Noto Sans', sans-serif; font-size: 16px; color: #ffffff; box-sizing: border-box;">
                        <button type="submit"
                            style="width: 100%; padding: 16px; background: #666666; border: none; border-radius: 8px; color: #ffffff; font-family: 'Noto Sans', sans-serif; font-size: 16px; font-weight: 500; cursor: pointer; transition: background 0.3s;">
                            Submit request</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script>
        (function () {
            function loadSharedFooter() {
                fetch('/footer.html')
                    .then(response => response.text())
                    .then(html => {
                        const existingFooter = document.querySelector('body > footer');
                        if (existingFooter) existingFooter.remove();
                        document.body.insertAdjacentHTML('beforeend', html);
                    })
                    .catch(error => console.error('Error loading footer:', error));
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', loadSharedFooter);
            } else {
                loadSharedFooter();
            }
        })();
    </script>

    <style>
        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .faq-item {
            background: transparent;
        }

        .faq-header {
            background: transparent;
            border: none;
            padding: 0;
            cursor: pointer;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            transition: all 0.3s;
            position: relative;
        }

        .faq-header:hover .faq-icon-circle {
            background-color: #ffffff;
        }

        .faq-title {
            font-family: 'Ubuntu', sans-serif;
            font-size: 28px;
            font-weight: 400;
            color: #ffffff;
            text-align: left;
            flex: 1;
            padding: 20px 0;
            line-height: 1.3;
        }

        .faq-icon {
            position: relative;
            width: 40px;
            height: 40px;
            flex-shrink: 0;
        }

        .faq-icon-circle {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ffffff;
            transition: background-color 0.3s;
        }

        .faq-icon-lines {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
        }

        .faq-icon-lines svg {
            width: 100%;
            height: 100%;
        }

        .faq-icon-lines path {
            stroke: #666666;
            stroke-width: 2px;
            stroke-linecap: square;
        }

        .faq-icon-lines .vertical-line {
            transition: opacity 0.3s;
        }

        .faq-item.active .faq-icon-lines .vertical-line {
            opacity: 0;
        }

        .faq-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .faq-item.active .faq-content {
            max-height: 500px;
        }

        .faq-text {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #ffffff;
            line-height: 1.6;
            padding: 0 0 20px 0;
        }

        @media (max-width: 768px) {
            .faq-title {
                font-size: 20px;
            }

            .faq-icon {
                width: 35px;
                height: 35px;
            }

            .faq-icon-circle {
                width: 35px;
                height: 35px;
            }

            .faq-icon-lines {
                width: 20px;
                height: 20px;
            }

            .faq-text {
                font-size: 14px;
                padding-right: 10px;
            }
        }

        @media (max-width: 480px) {
            .faq-title {
                font-size: 16px;
                padding-right: 10px;
            }

            .faq-header {
                padding: 15px 0;
            }

            .faq-icon {
                width: 30px;
                height: 30px;
            }

            .faq-icon-circle {
                width: 30px;
                height: 30px;
            }

            .faq-icon-lines {
                width: 18px;
                height: 18px;
            }

            .faq-text {
                font-size: 13px;
                padding: 10px 0 15px;
            }
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }

        .team-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .team-card:hover {
            transform: translateY(-10px);
        }

        .team-photo {
            width: 100%;
            height: 350px;
            object-fit: cover;
            background: #ddd;
        }

        .team-info {
            padding: 25px;
        }

        .team-name {
            font-family: 'Ubuntu', sans-serif;
            font-size: 24px;
            font-weight: 600;
            color: #ffffff;
            margin: 0 0 8px 0;
        }

        .team-position {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #ffffff;
            margin: 0 0 15px 0;
        }

        .team-bio {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin: 0;
        }

        .team-contacts {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #f0f0f0;
        }

        .team-contact {
            font-family: 'Noto Sans', sans-serif;
            font-size: 13px;
            color: #666;
            margin: 5px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        @media (max-width: 1200px) {
            .team-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 25px;
            }
        }

        @media (max-width: 768px) {
            .team-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .team-photo {
                height: 280px;
            }

            .team-info {
                padding: 20px;
            }

            .team-name {
                font-size: 18px;
            }

            .team-position {
                font-size: 14px;
            }

            .team-bio {
                font-size: 13px;
            }
        }

        @media (max-width: 480px) {
            .team-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .team-photo {
                height: 320px;
            }

            .team-info {
                padding: 18px;
            }

            .team-name {
                font-size: 17px;
                margin-bottom: 6px;
            }

            .team-position {
                font-size: 13px;
                margin-bottom: 12px;
            }

            .team-bio {
                font-size: 12px;
            }

            .team-contact {
                font-size: 12px;
            }
        }

        @media (max-width: 1200px) {
            .team-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 900px) {
            .team-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .team-grid {
                grid-template-columns: 1fr;
            }
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .review-card {
            background: #f5f5f5;
            border-radius: 30px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .review-stars {
            display: flex;
            gap: 4px;
        }

        .review-star {
            width: 16px;
            height: 16px;
        }

        .review-text {
            font-family: 'Ubuntu', sans-serif;
            font-size: 28px;
            font-weight: 300;
            color: #ffffff;
            line-height: 1.2;
            flex: 1;
        }

        .review-author {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .review-avatar {
            width: 47px;
            height: 47px;
            border-radius: 50%;
            object-fit: cover;
            background: #ddd;
        }

        .review-author-info {
            flex: 1;
        }

        .review-author-name {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            font-weight: 400;
            color: #ffffff;
            line-height: 1.2;
        }

        @media (max-width: 1200px) {
            .reviews-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .reviews-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <style>
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* Поднять блок "Мы гордимся тем" в мобильной версии */
        @media (max-width: 768px) {
            section[style*="padding: 100px 0"]>div>div:first-child>div:first-child {
                margin-top: -40px;
            }

            /* Статистика в одну колонку на мобильных */
            section[style*="padding: 100px 0"] div[style*="grid-template-columns: repeat(2, 1fr)"] {
                grid-template-columns: 1fr !important;
                gap: 40px !important;
            }

            section[style*="padding: 100px 0"] div[style*="display: flex; gap: 120px"] {
                flex-direction: column !important;
                gap: 30px !important;
            }

            /* Разрядка для цифр */
            .counter,
            .stat-number {
                letter-spacing: 1px !important;
                font-size: 48px !important;
                font-weight: 400 !important;
            }
        }
    </style>

    <script>
        const API_URL = '/api';
        let currentHeroSlide = 0;
        let heroSlides = [];
        let heroInterval;

        function sanitizeMediaUrl(rawUrl) {
            if (rawUrl === undefined || rawUrl === null) {
                return null;
            }
            const trimmed = String(rawUrl).trim();
            if (!trimmed || trimmed === 'undefined' || trimmed === 'null') {
                return null;
            }
            const lower = trimmed.toLowerCase();
            const allowedPrefixes = ['http://', 'https://', '/uploads/', '/images/', 'data:image/'];
            return allowedPrefixes.some(prefix => lower.startsWith(prefix)) ? trimmed : null;
        }

        // Анимация счетчика
        function animateCounter(element) {
            const target = parseInt(element.getAttribute('data-target'));
            const duration = 2000; // 2 секунды
            const increment = target / (duration / 16); // 60 FPS
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }

                // Форматирование в зависимости от числа
                if (target === 500) {
                    element.textContent = Math.floor(current) + '+';
                } else if (target === 10) {
                    element.textContent = Math.floor(current) + '+';
                } else if (target === 95) {
                    element.textContent = Math.floor(current) + '%';
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 16);
        }

        // Intersection Observer для запуска анимации при появлении в viewport
        const observerOptions = {
            threshold: 0.5
        };

        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                    entry.target.classList.add('animated');
                    animateCounter(entry.target);
                }
            });
        }, observerOptions);

        // Запуск наблюдения за счетчиками после загрузки страницы
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.counter').forEach(counter => {
                counterObserver.observe(counter);
            });
        });

        // Mobile menu toggle function - MUST be global for onclick
        window.toggleMobileMenu = function () {
            const mobileNav = document.getElementById('mobile-nav');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

            if (!mobileNav || !mobileMenuBtn || !mobileMenuOverlay) {
                return;
            }

            const isActive = !mobileNav.classList.contains('active');
            mobileNav.classList.toggle('active', isActive);
            mobileMenuBtn.classList.toggle('active', isActive);
            mobileMenuOverlay.classList.toggle('active', isActive);
            document.body.style.overflow = isActive ? 'hidden' : '';
        };

        fetch('/header.html')
            .then(response => response.text())
            .then(data => {
                const headerPlaceholder = document.getElementById('header-placeholder');
                if (headerPlaceholder) {
                    headerPlaceholder.innerHTML = data;
                }

                // After header is loaded, initialize services dropdown
                setTimeout(() => {
                    loadServicesDropdown();
                    initServicesToggle();
                    initMobileMenu();
                    if (window.refreshMobileContacts) {
                        window.refreshMobileContacts();
                    }
                }, 100);
            });

        function closeMobileMenu() {
            const overlay = document.getElementById('mobile-menu-overlay');
            const btn = document.getElementById('mobile-menu-btn');
            const nav = document.getElementById('mobile-nav');

            if (overlay) overlay.classList.remove('active');
            if (btn) btn.classList.remove('active');
            if (nav) nav.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Initialize mobile menu
        function initMobileMenu() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            const mobileNav = document.getElementById('mobile-nav');

            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', window.toggleMobileMenu);
            }

            if (mobileMenuOverlay) {
                mobileMenuOverlay.addEventListener('click', function (e) {
                    if (e.target === mobileMenuOverlay) {
                        closeMobileMenu();
                    }
                });
            }

            // Close mobile menu when clicking on a link (except services toggle or nested service items)
            const mobileNavLinks = document.querySelectorAll('.mobile-nav a');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    if (link.id === 'mobile-services-toggle' || link.classList.contains('mobile-service-item')) {
                        return;
                    }
                    closeMobileMenu();
                });
            });

            // Toggle mobile services section
            const mobileServicesToggle = document.getElementById('mobile-services-toggle');
            const mobileServicesList = document.getElementById('mobile-services-list');
            const mobileServicesArrow = document.getElementById('mobile-services-arrow');

            if (mobileServicesToggle && mobileServicesList) {
                mobileServicesToggle.addEventListener('click', function (e) {
                    e.preventDefault(); // Prevent default link behavior

                    if (mobileServicesList.style.maxHeight === '0px' || !mobileServicesList.style.maxHeight) {
                        mobileServicesList.style.maxHeight = mobileServicesList.scrollHeight + 'px';
                        if (mobileServicesArrow) {
                            mobileServicesArrow.style.transform = 'rotate(180deg)';
                        }
                    } else {
                        mobileServicesList.style.maxHeight = '0px';
                        if (mobileServicesArrow) {
                            mobileServicesArrow.style.transform = 'rotate(0deg)';
                        }
                    }
                });
            }

            // Load services for mobile menu
            loadMobileServices();
        }

        // Load mobile services
        async function loadMobileServices() {
            try {
                const response = await fetch('/api/services');
                const services = await response.json();
                const mobileServicesList = document.getElementById('mobile-services-list');

                if (mobileServicesList && services.length > 0) {
                    mobileServicesList.innerHTML = services.filter(service => service.visible).map(service => `
                        <a href="/service.html?id=${service.id}" class="mobile-service-item" style="display: block; text-decoration: none; cursor: pointer;">
                            <h4>${service.title}</h4>
                            <p>${service.description ? service.description.replace(/<[^>]*>/g, '').substring(0, 80) + '...' : ''}</p>
                        </a>
                    `).join('');

                    // Update max-height after content is loaded
                    setTimeout(() => {
                        const toggle = document.getElementById('mobile-services-toggle');
                        if (toggle && mobileServicesList.style.maxHeight !== '0px') {
                            mobileServicesList.style.maxHeight = mobileServicesList.scrollHeight + 'px';
                        }
                    }, 100);
                }

                document.querySelectorAll('.mobile-service-item').forEach(item => {
                    item.addEventListener('click', closeMobileMenu);
                });
            } catch (error) {
                console.error('Error loading mobile services:', error);
            }
        }

        // Load services from API
        async function loadServicesDropdown() {
            try {
                const response = await fetch('/api/services');
                const services = await response.json();
                const dropdown = document.querySelector('.services-dropdown-inner');

                if (dropdown) {
                    dropdown.innerHTML = services.map(service => `
                        <a href="/service.html?id=${service.id}" class="dropdown-item">
                            <h4>${service.title}</h4>
                        </a>
                    `).join('');
                }
            } catch (error) {
                console.error('Error loading services:', error);
            }
        }

        // Initialize toggle functionality
        function initServicesToggle() {
            const toggle = document.getElementById('services-toggle');
            const dropdown = document.getElementById('services-dropdown');

            if (toggle && dropdown) {
                // Открытие/закрытие по клику
                toggle.addEventListener('click', function (e) {
                    e.preventDefault();
                    dropdown.classList.toggle('active');
                });

                // Закрытие при клике вне меню
                document.addEventListener('click', function (e) {
                    if (!toggle.contains(e.target) && !dropdown.contains(e.target)) {
                        dropdown.classList.remove('active');
                    }
                });
            }
        }

        function formatStages(stageString) {
            if (!stageString) return '';
            const stages = stageString.split(',').map(s => s.trim());
            const stageClasses = {
                'Concept': 'stage-concept',
                'Preliminary Design': 'stage-concept',
                'Design Documentation': 'stage-project',
                'Working Project': 'stage-working',
                'Working Documentation': 'stage-working',
                'Construction': 'stage-construction',
                'Implementation': 'stage-construction',
                'Completed': 'stage-completed',
                'Finished': 'stage-completed'
            };

            return stages.map(stage => {
                const className = stageClasses[stage] || 'stage-project';
                return `<span class="stage-badge ${className}">${stage}</span>`;
            }).join(' ');
        }

        // Hero Slider Functions
        // Загрузка героя
        async function loadHeroProjects() {
            console.log('loadHeroProjects вызвана');
            try {
                const response = await fetch(`${API_URL}/hero-slides`);
                console.log('Response:', response.status);
                const slides = await response.json();
                console.log('Loaded hero slides:', slides);
                heroSlides = slides;

                if (heroSlides.length > 0) {
                    renderHeroSlides();
                    startHeroSlider();
                } else {
                    console.warn('No slides to display');
                }
            } catch (error) {
                console.error('Error loading slides:', error);
            }
        }

        function renderHeroSlides() {
            console.log('renderHeroSlides вызвана, слайдов:', heroSlides.length);
            const slidesContainer = document.querySelector('.hero-slides');
            const navContainer = document.getElementById('hero-nav');

            slidesContainer.innerHTML = heroSlides.map((slide, index) => {
                const mediaType = slide.media_type || 'image';
                const heroImage = sanitizeMediaUrl(slide.image_url);
                const videoUrl = slide.video_url || '';
                console.log('Rendering slide', index, '- Media Type:', mediaType);
                const buttonLink = slide.button_link || (slide.project_id ? `/project.html?id=${slide.project_id}` : '#');
                const buttonText = slide.button_text || 'Learn More';

                let mediaHTML = '';
                if (mediaType === 'video' && videoUrl) {
                    mediaHTML = `
                        <video autoplay muted loop playsinline style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0;">
                            <source src="${videoUrl}" type="video/mp4">
                        </video>
                    `;
                }

                return `
                <div class="hero-slide ${index === 0 ? 'active' : ''}" style="${mediaType === 'image' ? `background-image: url('${heroImage}');` : ''}">
                    ${mediaHTML}
                    <div class="hero-content">
                        <div class="hero-info">
                            <h1 class="hero-title">${slide.title}</h1>
                            <div class="hero-description">
                                ${slide.description ? slide.description.replace(/<[^>]*>/g, '').substring(0, 200) + '...' : ''}
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }).join('');

            navContainer.innerHTML = heroSlides.map((_, index) => `
                <span class="hero-dot ${index === 0 ? 'active' : ''}" onclick="goToHeroSlide(${index})"></span>
            `).join('');
        }

        function showHeroSlide(index) {
            const slides = document.querySelectorAll('.hero-slide');
            const dots = document.querySelectorAll('.hero-dot');

            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });

            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
                // Перезапуск анимации для активной точки
                if (i === index && dot.classList.contains('active')) {
                    const before = window.getComputedStyle(dot, '::before');
                    dot.style.animation = 'none';
                    setTimeout(() => {
                        dot.style.animation = '';
                    }, 10);
                }
            });

            currentHeroSlide = index;
        }

        function goToHeroSlide(index) {
            showHeroSlide(index);
            resetHeroInterval();
        }

        function nextHeroSlide() {
            const nextIndex = (currentHeroSlide + 1) % heroSlides.length;
            showHeroSlide(nextIndex);
        }

        function startHeroSlider() {
            heroInterval = setInterval(nextHeroSlide, 5000); // Автопрокрутка каждые 5 секунд (совпадает с анимацией)
        }

        function resetHeroInterval() {
            clearInterval(heroInterval);
            startHeroSlider();
        }

        // Touch support for hero slider
        let heroStartX = 0;
        let heroEndX = 0;
        const heroSlider = document.getElementById('hero-slider');

        heroSlider.addEventListener('touchstart', (e) => {
            heroStartX = e.touches[0].clientX;
        }, { passive: true });

        heroSlider.addEventListener('touchend', (e) => {
            heroEndX = e.changedTouches[0].clientX;
            const diff = heroStartX - heroEndX;

            if (Math.abs(diff) > 50) { // минимальная дистанция для свайпа
                if (diff > 0) {
                    // свайп влево - следующий слайд
                    nextHeroSlide();
                } else {
                    // свайп вправо - предыдущий слайд
                    prevHeroSlide();
                }
                resetHeroInterval(); // сброс автопрокрутки при пользовательском действии
            }
        }, { passive: true });

        // Загрузка проектов для слайдера
        loadHeroProjects();

        // Services slider variables
        let currentServiceSlide = 0;
        let servicesData = [];

        // Load and display services slider
        async function loadServicesSlider() {
            try {
                const response = await fetch(`${API_URL}/services`);
                servicesData = await response.json();

                const servicesSlides = document.getElementById('services-slides');
                if (!servicesSlides) {
                    console.warn('services-slides element not found');
                    return;
                }

                const backgrounds = [
                    '/project4923123/images/tild3333-6661-4136-b231-366261626666_________.jpg',
                    '/project4923123/images/tild3634-3139-4564-a430-616636396532_________.jpg',
                    '/project4923123/images/tild3831-3436-4464-b033-316639666562_________.jpg'
                ];

                servicesSlides.innerHTML = servicesData.map((service, index) => `
                    <div style="min-width: 100%; display: flex; flex-direction: column; gap: 20px;">
                        ${servicesData.slice(index * 1, index * 1 + 1).map((s, i) => `
                            <div class="service-slide-item" style="background: transparent; border-radius: 15px; overflow: hidden; min-height: 520px; display: flex; flex-direction: column; position: relative;">
                                <div class="service-slide-bg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('${sanitizeMediaUrl(s.image_url) || backgrounds[index % backgrounds.length]}'); background-size: cover; background-position: center; z-index: 1; transition: transform 0.6s ease;"></div>
                                <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 20%, rgba(0, 0, 0, 0.95) 100%); z-index: 2;"></div>
                                <div class="service-slide-content" style="width: 100%; position: relative; z-index: 3; padding: 40px 60px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; height: 100%;">
                                    <div style="max-width: 800px; text-align: center;">
                                        <h3 onclick="window.location.href='/service.html?id=${s.id}'" style="font-family: 'Ubuntu', sans-serif; font-weight: 400; font-size: 56px; color: #ffffff; margin-bottom: 30px; line-height: 1.1; letter-spacing: -1px; cursor: pointer;">${s.title}</h3>
                                        <p style="font-family: 'Noto Sans', sans-serif; font-weight: 400; font-size: 15px; color: #f5f5f5; line-height: 1.25; margin-bottom: 0;">
                                            ${s.description ? s.description.replace(/<[^>]*>/g, '').substring(0, 200) : 'Development of functional and aesthetic architectural solutions for modern spaces.'}
                                        </p>
                                    </div>
                                    <div style="max-width: 800px; margin-top: auto; padding-top: 60px;">
                                        <form onsubmit="submitServiceForm(event, ${s.id}, '${s.title.replace(/'/g, "\\'")}')"
                                            style="display: flex; flex-direction: row; gap: 10px; width: 100%; align-items: flex-start;">
                                            <input type="text" name="name" required
                                                style="flex: 1; padding: 12px 16px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; font-family: 'Arial', sans-serif; font-size: 14px; background: rgba(255, 255, 255, 0.5); color: #fff; font-weight: 400;"
                                                placeholder="Name" />
                                            <input type="tel" name="phone" required
                                                style="flex: 1; padding: 12px 16px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; font-family: 'Arial', sans-serif; font-size: 14px; background: rgba(255, 255, 255, 0.5); color: #fff; font-weight: 400;"
                                                placeholder="Phone" />
                                            <button type="submit"
                                                style="background: #666666; color: #ffffff; padding: 12px 24px; border: none; border-radius: 8px; font-family: 'Arial', sans-serif; font-weight: 500; font-size: 14px; text-transform: uppercase; letter-spacing: -0.5px; cursor: pointer; transition: background 0.3s; white-space: nowrap;"
                                                onmouseover="this.style.background='#555555'" onmouseout="this.style.background='#666666'">
                                                ОСТАВИТЬ ЗАЯВКУ
                                            </button>
                                        </form>
                                        <div style="font-family: 'Arial', sans-serif; font-size: 11px; color: rgba(255, 255, 255, 0.7); line-height: 1.4; margin-top: 10px;">
                                            By clicking the button, you agree to the <a href="/privacy-policy.html" style="color: rgba(255, 255, 255, 0.9); text-decoration: underline;">Privacy Policy</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `).slice(0, servicesData.length).join('');

                showServiceSlide(0);
            } catch (error) {
                console.error('Error loading services:', error);
            }
        }

        function goToServiceSlide(index) {
            currentServiceSlide = index;
            showServiceSlide(index);
        }

        function showServiceSlide(index) {
            const slides = document.getElementById('services-slides');
            const dots = document.querySelectorAll('#services-nav .hero-dot');
            const totalSlides = servicesData.length;

            if (index >= totalSlides) currentServiceSlide = 0;
            else if (index < 0) currentServiceSlide = totalSlides - 1;
            else currentServiceSlide = index;

            slides.style.transform = `translateX(-${currentServiceSlide * 100}%)`;

            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentServiceSlide);
            });
        }

        // Touch support for services slider
        let servicesStartX = 0;
        let servicesEndX = 0;
        const servicesSlider = document.getElementById('services-slider');

        if (servicesSlider) {
            servicesSlider.addEventListener('touchstart', (e) => {
                servicesStartX = e.touches[0].clientX;
            }, { passive: true });

            servicesSlider.addEventListener('touchend', (e) => {
                servicesEndX = e.changedTouches[0].clientX;
                const diff = servicesStartX - servicesEndX;

                if (Math.abs(diff) > 50) { // минимальная дистанция для свайпа
                    if (diff > 0) {
                        // свайп влево - следующий слайд
                        showServiceSlide(currentServiceSlide + 1);
                    } else {
                        // свайп вправо - предыдущий слайд
                        showServiceSlide(currentServiceSlide - 1);
                    }
                }
            }, { passive: true });

            // Mouse drag support for services slider
            let servicesMouseDown = false;

            servicesSlider.addEventListener('mousedown', (e) => {
                servicesMouseDown = true;
                servicesStartX = e.clientX;
                servicesSlider.style.cursor = 'grabbing';
            });

            servicesSlider.addEventListener('mousemove', (e) => {
                if (!servicesMouseDown) return;
                e.preventDefault();
            });

            servicesSlider.addEventListener('mouseup', (e) => {
                if (!servicesMouseDown) return;
                servicesMouseDown = false;
                servicesEndX = e.clientX;
                servicesSlider.style.cursor = 'grab';

                const diff = servicesStartX - servicesEndX;

                if (Math.abs(diff) > 50) { // минимальная дистанция для свайпа
                    if (diff > 0) {
                        // свайп влево - следующий слайд
                        showServiceSlide(currentServiceSlide + 1);
                    } else {
                        // свайп вправо - предыдущий слайд
                        showServiceSlide(currentServiceSlide - 1);
                    }
                }
            });

            servicesSlider.addEventListener('mouseleave', () => {
                if (servicesMouseDown) {
                    servicesMouseDown = false;
                    servicesSlider.style.cursor = 'grab';
                }
            });

            // Set initial cursor
            servicesSlider.style.cursor = 'grab';
        }

        loadServicesSlider();
        loadReviews();

        // ========== REVIEWS ==========
        async function loadReviews() {
            try {
                const response = await fetch('/api/reviews');
                const reviews = await response.json();

                console.log('Loaded reviews:', reviews); // Отладочная информация

                const container = document.getElementById('reviews-slider');
                if (!container) {
                    console.warn('reviews-slider element not found');
                    return;
                }

                if (reviews.length === 0) {
                    container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #666;">No reviews yet</p>';
                    return;
                }

                container.innerHTML = reviews.map(review => {
                    const avatarUrl = sanitizeMediaUrl(review.image_url);
                    return `
                    <div class="review-card">
                        <div class="review-stars">
                            ${Array(review.rating).fill('<svg class="review-star" viewBox="0 0 15 14" fill="none"><path d="M7.5 0L9.18386 5.18237H14.6329L10.2245 8.38525L11.9084 13.5676L7.5 10.3647L3.09161 13.5676L4.77547 8.38525L0.367076 5.18237H5.81614L7.5 0Z" fill="#212529"/></svg>').join('')}
                        </div>
                        <div class="review-text">"${review.text}"</div>
                        <div class="review-author">
                            ${avatarUrl ?
                            `<img src="${avatarUrl}" alt="${review.client_name}" class="review-avatar">` :
                            `<div class="review-avatar"></div>`
                        }
                            <div class="review-author-info">
                                <div class="review-author-name">${review.client_name}${review.company ? ', ' + review.company : ''}</div>
                            </div>
                        </div>
                    </div>
                `;
                }).join('');
            } catch (error) {
                console.error('Error loading reviews:', error);
            }
        }

        // ========== TEAM ==========
        async function loadTeam() {
            try {
                const response = await fetch(`${API_URL}/team`);
                const team = await response.json();

                const container = document.getElementById('team-grid');

                if (team.length === 0) {
                    document.getElementById('team-section').style.display = 'none';
                    return;
                }

                if (!container) {
                    console.warn('team-grid element not found');
                    return;
                }

                container.innerHTML = team.map(member => `
                    <div class="team-card">
                        ${member.photo_url ?
                        `<img src="${member.photo_url}" alt="${member.name}" class="team-photo">` :
                        `<div class="team-photo"></div>`
                    }
                        <div class="team-info">
                            <h3 class="team-name">${member.name}</h3>
                            ${member.position ? `<div class="team-position">${member.position}</div>` : ''}
                            ${member.bio ? `<p class="team-bio">${member.bio}</p>` : ''}
                            ${member.email || member.phone ? `
                                <div class="team-contacts">
                                    ${member.email ? `
                                        <div class="team-contact">
                                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                                <path d="M2 2h10c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1z" stroke="#666" fill="none"/>
                                                <path d="M1 3l6 4 6-4" stroke="#666" fill="none"/>
                                            </svg>
                                            ${member.email}
                                        </div>
                                    ` : ''}
                                    ${member.phone ? `
                                        <div class="team-contact">
                                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                                <path d="M3 1h2l1 3-1 1c0 1 1 2 2 3s2 2 3 2l1-1 3 1v2c0 1-1 2-2 2-6 0-11-5-11-11 0-1 1-2 2-2z" stroke="#666" fill="none"/>
                                            </svg>
                                            ${member.phone}
                                        </div>
                                    ` : ''}
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading team:', error);
            }
        }

        // ========== DYNAMIC SECTIONS ==========
        async function loadDynamicSections() {
            try {
                const response = await fetch(`${API_URL}/sections`);
                const sections = await response.json();

                const container = document.getElementById('dynamic-sections');

                if (sections.length === 0) {
                    return;
                }

                container.innerHTML = sections.map(section => `
                    <section style="padding: 100px 0; background: ${section.background_image ? `url('${section.background_image}') center/cover` : '#f5f5f5'};">
                        <div style="padding: 0 60px;">
                            ${section.title ? `
                                <h2 style="font-family: 'Ubuntu', sans-serif; font-weight: 600; font-size: 54px; color: #ffffff; margin: 0 0 20px 0; line-height: 1.1;">
                                    ${section.title}
                                </h2>
                            ` : ''}
                            ${section.subtitle ? `
                                <p style="font-family: 'Noto Sans', sans-serif; font-size: 18px; color: #ffffff; margin-bottom: 40px; max-width: 800px;">
                                    ${section.subtitle}
                                </p>
                            ` : ''}
                            ${section.content ? `
                                <div style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; line-height: 1.6;">
                                    ${section.content}
                                </div>
                            ` : ''}
                        </div>
                    </section>
                `).join('');
            } catch (error) {
                console.error('Error loading sections:', error);
            }
        }

        // ========== FAQ ==========
        async function loadFaq() {
            try {
                const response = await fetch(`${API_URL}/faq`);
                const faq = await response.json();

                // Load FAQ intro text from settings
                const settingsResponse = await fetch(`${API_URL}/settings`);
                const settings = await settingsResponse.json();

                const faqIntro = document.getElementById('faq-intro');
                faqIntro.innerHTML = `
                    <h2 style="font-family: 'Ubuntu', sans-serif; font-weight: 300; font-size: 54px; color: #ffffff; margin: 0 0 30px 0; line-height: 1.1;">
                        ${settings.faq_title || 'Frequently Asked Questions'}
                    </h2>
                    ${settings.faq_description ? `
                        <p style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: #ffffff; line-height: 1.6; margin: 0;">
                            ${settings.faq_description}
                        </p>
                    ` : ''}
                `;

                const container = document.getElementById('faq-list');

                if (faq.length === 0) {
                    document.getElementById('faq-section').style.display = 'none';
                    return;
                }

                container.innerHTML = faq.map((item, index) => `
                    <div class="faq-item ${index === 0 ? 'active' : ''}" data-faq-index="${index}">
                        <div class="faq-header" onclick="toggleFaq(${index})">
                            <span class="faq-title">${item.question}</span>
                            <div class="faq-icon">
                                <span class="faq-icon-circle"></span>
                                <span class="faq-icon-lines">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <g stroke="none" stroke-width="2px" fill="none" fill-rule="evenodd" stroke-linecap="square">
                                            <g transform="translate(1, 1)">
                                                <path d="M0,11 L22,11" class="horizontal-line"></path>
                                                <path d="M11,0 L11,22" class="vertical-line"></path>
                                            </g>
                                        </g>
                                    </svg>
                                </span>
                            </div>
                        </div>
                        <div class="faq-content">
                            <div class="faq-text">${item.answer}</div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading FAQ:', error);
            }
        }

        function toggleFaq(index) {
            const items = document.querySelectorAll('.faq-item');
            const clickedItem = document.querySelector(`[data-faq-index="${index}"]`);

            if (clickedItem.classList.contains('active')) {
                clickedItem.classList.remove('active');
            } else {
                items.forEach(item => item.classList.remove('active'));
                clickedItem.classList.add('active');
            }
        }

        loadDynamicSections();
        loadTeam();
        loadFaq();

        // ========== MODAL NOTIFICATION ==========
        function showNotification(message, type = 'success') {
            // Удаляем предыдущее уведомление, если есть
            const existingModal = document.getElementById('notification-modal');
            if (existingModal) {
                existingModal.remove();
            }

            const modal = document.createElement('div');
            modal.id = 'notification-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                animation: fadeIn 0.3s ease;
            `;

            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 40px 50px;
                border-radius: 15px;
                text-align: center;
                max-width: 500px;
                width: 90%;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                animation: slideDown 0.3s ease;
            `;

            const icon = type === 'success' ? '✅' : '❌';
            const color = type === 'success' ? '#27ae60' : '#e74c3c';

            modalContent.innerHTML = `
                <div style="font-size: 60px; margin-bottom: 20px;">${icon}</div>
                <h3 style="font-family: 'Arial', sans-serif; font-size: 24px; color: #2c3e50; margin-bottom: 15px; font-weight: 600;">
                    ${type === 'success' ? 'Success!' : 'Error!'}
                </h3>
                <p style="font-family: 'Arial', sans-serif; font-size: 16px; color: #7f8c8d; margin-bottom: 30px; line-height: 1.6;">
                    ${message}
                </p>
                <button onclick="closeNotification()" style="
                    background: ${color};
                    color: white;
                    border: none;
                    padding: 12px 40px;
                    border-radius: 8px;
                    font-family: 'Arial', sans-serif;
                    font-size: 15px;
                    font-weight: 500;
                    cursor: pointer;
                    transition: opacity 0.3s;
                " onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">
                    Закрыть
                </button>
            `;

            modal.appendChild(modalContent);
            document.body.appendChild(modal);

            // Закрытие по клику на фон
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeNotification();
                }
            });

            // Автозакрытие через 5 секунд для успешных уведомлений
            if (type === 'success') {
                setTimeout(closeNotification, 5000);
            }
        }

        function closeNotification() {
            const modal = document.getElementById('notification-modal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => modal.remove(), 300);
            }
        }

        // CSS анимации
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
            @keyframes slideDown {
                from { 
                    opacity: 0;
                    transform: translateY(-50px);
                }
                to { 
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);

        // ========== FORM ==========
        async function submitForm(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                message: formData.get('message')
            };

            try {
                const response = await fetch(`${API_URL}/contact`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    showNotification('Thank you! Your request has been sent. We will contact you soon.', 'success');
                    event.target.reset();
                } else {
                    showNotification('Sending error. Please try again later or contact us by phone.', 'error');
                }
            } catch (error) {
                console.error('Error:', error);
                showNotification('Sending error. Please try again later or contact us by phone.', 'error');
            }
        }

        async function submitServiceForm(event, serviceId, serviceTitle) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                phone: formData.get('phone'),
                service_id: serviceId,
                service_title: serviceTitle,
                message: `Service request: ${serviceTitle}`
            };

            try {
                const response = await fetch(`${API_URL}/contact`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    showNotification('Thank you! Your request has been sent. We will contact you soon.', 'success');
                    event.target.reset();
                } else {
                    showNotification('Sending error. Please try again later or contact us by phone.', 'error');
                }
            } catch (error) {
                console.error('Error:', error);
                showNotification('Sending error. Please try again later or contact us by phone.', 'error');
            }
        }

        // Scroll to top on page load
        window.addEventListener('beforeunload', function () {
            window.scrollTo(0, 0);
        });

        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }

        // Скрыть прелоадер после загрузки контента
        function hideLoader() {
            const loader = document.getElementById('page-loader');
            const heroSlider = document.querySelector('.hero-slider');

            // Проверяем, что hero секция загружена
            const checkHeroLoaded = setInterval(function () {
                if (heroSlider && heroSlides.length > 0) {
                    clearInterval(checkHeroLoaded);
                    setTimeout(function () {
                        loader.classList.add('fade-out');
                        setTimeout(function () {
                            loader.style.display = 'none';
                        }, 1500);
                    }, 300);
                }
            }, 100);

            // Максимальное время ожидания 5 секунд
            setTimeout(function () {
                clearInterval(checkHeroLoaded);
                loader.classList.add('fade-out');
                setTimeout(function () {
                    loader.style.display = 'none';
                }, 1500);
            }, 5000);
        }

        window.addEventListener('load', hideLoader);
    </script>
</body>

</html>