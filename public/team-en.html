<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Team - UK Architects</title>
    <meta name="description" content="Team of professionals at UK-Architects">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <script src="js/header-contacts.js" defer></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans', sans-serif;
            background: #1a1a1a;
            color: #ffffff;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            transition: top 0.3s linear;
        }

        .hero-section {
            padding: 140px 60px 80px 60px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
        }

        .hero-section h1 {
            font-family: 'Ubuntu', sans-serif;
            font-weight: 400;
            font-size: 56px;
            color: #ffffff;
            margin-bottom: 30px;
            line-height: 1.2;
        }

        .team-grid {
            padding: 80px 60px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .team-card {
            background: #222222;
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .team-photo {
            width: 100%;
            height: 350px;
            overflow: hidden;
            background: #2a2a2a;
        }

        .team-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .team-card:hover .team-photo img {
            transform: scale(1.1);
        }

        .team-info {
            padding: 30px;
        }

        .team-name {
            font-family: 'Ubuntu', sans-serif;
            font-weight: 500;
            font-size: 24px;
            color: #ffffff;
            margin-bottom: 10px;
        }

        .team-position {
            font-family: 'Noto Sans', sans-serif;
            font-size: 16px;
            color: #999999;
            margin-bottom: 15px;
        }

        .team-bio {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #cccccc;
            line-height: 1.7;
        }

        .loading {
            text-align: center;
            padding: 100px 0;
            color: #999;
            font-size: 18px;
        }

        #lang-switcher {
            position: fixed;
            top: 22px;
            right: 40px;
            z-index: 99999;
            display: flex;
            gap: 3px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 5px 6px;
            transition: top 0.3s linear;
        }

        #lang-switcher a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            padding: 5px 12px;
            border-radius: 15px;
            text-transform: uppercase;
            font-family: 'Ubuntu', sans-serif;
            transition: all 0.3s;
        }

        #lang-switcher a.active {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.2);
        }

        #lang-switcher a:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.15);
        }

        @media (max-width: 968px) {
            .hero-section {
                padding: 120px 40px 60px 40px;
            }

            .hero-section h1 {
                font-size: 38px;
            }

            .team-grid {
                padding: 60px 40px;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 640px) {
            .hero-section {
                padding: 100px 25px 40px 25px;
            }

            .hero-section h1 {
                font-size: 32px;
            }

            .team-grid {
                padding: 40px 25px;
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <header>
        <div
            style="height: 75px; padding: 0 60px; display: flex; align-items: center; justify-content: space-between; box-sizing: border-box;">
            <a href="/index-en.html" style="display: inline-block;">
                <img id="site-logo" src="images/tild6265-3061-4762-a339-323263366339__architects_global_50.svg"
                    alt="UK Architects" style="height: 35px; width: auto; filter: none;" />
            </a>
        </div>
    </header>

    <div id="lang-switcher">
        <a href="/team.html">RU</a>
        <a href="/team-en.html" class="active">EN</a>
    </div>

    <section class="hero-section">
        <h1>Our Team</h1>
    </section>

    <div class="team-grid" id="team-container">
        <div class="loading">Loading team...</div>
    </div>

    <script>
        const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:3000/api' : 'https://uk-architects.onrender.com/api';

        function sanitizeMediaUrl(url) {
            if (!url) return '';
            if (url.startsWith('http://') || url.startsWith('https://')) {
                return url;
            }
            if (url.startsWith('/')) {
                return url;
            }
            return '/' + url;
        }

        async function loadTeam() {
            try {
                const response = await fetch(`${API_URL}/team`);
                const team = await response.json();

                const container = document.getElementById('team-container');

                if (team.length === 0) {
                    container.innerHTML = '<div class="loading">No team members yet</div>';
                    return;
                }

                container.innerHTML = team.map(member => {
                    const photoUrl = sanitizeMediaUrl(member.photo_url);
                    return `
                        <div class="team-card">
                            ${photoUrl ? `
                                <div class="team-photo">
                                    <img src="${photoUrl}" alt="${member.name}">
                                </div>
                            ` : '<div class="team-photo"></div>'}
                            <div class="team-info">
                                <h2 class="team-name">${member.name}</h2>
                                <p class="team-position">${member.position_en || member.position}</p>
                                ${member.bio_en || member.bio ? `<p class="team-bio">${member.bio_en || member.bio}</p>` : ''}
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error loading team:', error);
                document.getElementById('team-container').innerHTML = '<div class="loading">Error loading team</div>';
            }
        }

        let lastScrollTop = 0;
        const header = document.querySelector('header');
        const langSwitcher = document.getElementById('lang-switcher');

        window.addEventListener('scroll', function () {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop <= 100) {
                header.style.top = '0';
                langSwitcher.style.top = '22px';
            } else if (scrollTop > lastScrollTop) {
                header.style.top = '-75px';
                langSwitcher.style.top = '-75px';
            } else {
                header.style.top = '0';
                langSwitcher.style.top = '22px';
            }

            lastScrollTop = scrollTop;
        });

        loadTeam();

        document.addEventListener('DOMContentLoaded', () => {
            if (window.refreshMobileContacts) {
                window.refreshMobileContacts();
            }
        });
    </script>

    <!-- Footer -->
    <footer
        style="background: #1a1a1a; padding: 40px 0 20px 0; color: white; border-top: 1px solid rgba(255,255,255,0.1);">
        <div style="padding: 0 60px;">
            <div
                style="display: grid; grid-template-columns: 2fr 2fr 2fr; gap: 80px; margin-bottom: 60px; align-items: start;">
                <!-- Column 1 - Logo & Description -->
                <div style="padding-top: 0;">
                    <img src="images/tild3465-3331-4337-b736-396361326438__architects_global_50.svg" alt="UK ARCHITECTS"
                        style="height: 50px; margin-bottom: 25px; display: block;">
                    <p
                        style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: rgba(255,255,255,0.7); line-height: 1.6; margin: 0;">
                        Full-cycle architectural bureau. We create spaces that inspire and serve for decades.
                    </p>
                </div>

                <!-- Column 2 - Address & Contact -->
                <div style="padding-top: 0;">
                    <div style="margin-bottom: 40px;">
                        <p
                            style="font-family: 'Ubuntu', sans-serif; font-size: 15px; font-weight: 400; color: rgba(255,255,255,0.5); margin: 0 0 15px 0; text-transform: uppercase; letter-spacing: 0.5px;">
                            ADDRESS
                        </p>
                        <p
                            style="font-family: 'Ubuntu', sans-serif; font-size: 24px; font-weight: 400; color: white; margin: 0 0 10px 0; line-height: 1.1;">
                            Ch.Aitmatova street 243
                        </p>
                        <p
                            style="font-family: 'Noto Sans', sans-serif; font-size: 15px; color: rgba(255,255,255,0.7); margin: 0;">
                            Working hours: Mon–Fri: 9:00–19:00
                        </p>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <p
                            style="font-family: 'Ubuntu', sans-serif; font-size: 15px; font-weight: 400; color: rgba(255,255,255,0.5); margin: 0 0 15px 0; text-transform: uppercase; letter-spacing: 0.5px;">
                            PHONE
                        </p>
                        <a href="tel:+996779777666"
                            style="font-family: 'Ubuntu', sans-serif; font-size: 24px; font-weight: 400; color: white; text-decoration: none; display: block; line-height: 1.1;">
                            +996 779 777 666
                        </a>
                    </div>

                    <div>
                        <p
                            style="font-family: 'Ubuntu', sans-serif; font-size: 15px; font-weight: 400; color: rgba(255,255,255,0.5); margin: 0 0 15px 0; text-transform: uppercase; letter-spacing: 0.5px;">
                            EMAIL
                        </p>
                        <a href="mailto:info@ukglobal.com"
                            style="font-family: 'Ubuntu', sans-serif; font-size: 24px; font-weight: 400; color: white; text-decoration: none; display: block; line-height: 1.1;">
                            info@ukglobal.com
                        </a>
                    </div>
                </div>

                <!-- Column 3 - Socials -->
                <div style="padding-top: 0;">
                    <p
                        style="font-family: 'Ubuntu', sans-serif; font-size: 15px; font-weight: 400; color: rgba(255,255,255,0.5); margin: 0 0 15px 0; text-transform: uppercase; letter-spacing: 0.5px;">
                        FOLLOW US
                    </p>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div
                style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; display: flex; justify-content: space-between; align-items: center;">
                <p
                    style="font-family: 'Noto Sans', sans-serif; font-size: 13px; color: rgba(255,255,255,0.5); margin: 0;">
                    © 2024 UK ARCHITECTS. All rights reserved
                </p>
                <a href="/privacy.html"
                    style="font-family: 'Noto Sans', sans-serif; font-size: 13px; color: rgba(255,255,255,0.5); text-decoration: none; transition: color 0.3s;"
                    onmouseover="this.style.color='white'" onmouseout="this.style.color='rgba(255,255,255,0.5)'">
                    Privacy Policy
                </a>
            </div>
        </div>
    </footer>
</body>

</html>